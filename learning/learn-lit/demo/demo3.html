<script>
  // 定义自定组件
  class MyCounter extends HTMLElement {
    static get observedAttributes() {
      return ['count'];
    }

    attributeChangedCallback(attr, oldValue, newValue) {
      if (attr === 'count') {
        this.btn.textContent = newValue;
      }
    }

    get count() {
      return this.getAttribute('count') || 0;
    }

    set count(value) {
      this.setAttribute('count', value);
    }
    constructor() {
      super();
      this.attachShadow({ mode: 'open' });

      this.shadowRoot.innerHTML = `<button>${this.count}</button>`;
      this.btn = this.shadowRoot.querySelector('button');
      this.btn.addEventListener('click', () => this.count++);
    }
  }
  // 注册组件
  customElements.define('my-counter', MyCounter);
</script>

<!-- 使用组件 -->
<body>
  <my-counter></my-counter>
</body>
