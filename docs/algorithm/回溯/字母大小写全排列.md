---
title: 字母大小写全排列
date: 2022-03-31 20:46:00
sidebar: auto
tags:
  - 回溯算法
categories:
  - leetcode
---

[字母大小写全排列](https://leetcode-cn.com/problems/letter-case-permutation/)

```js
输入：s = "a1b2
输出：["a1b2", "a1B2", "A1b2", "A1B2"]
```

```js
/**
 * @param {string} s
 * @return {string[]}
 */
var letterCasePermutation = function (s) {
  let result = [];
  function dfs(i, str) {
    if (i === s.length) {
      result.push(str);
      return;
    }
    if (/\d/.test(s[i])) dfs(i + 1, str + s[i]);
    else {
      dfs(i + 1, str + s[i].toLowerCase());
      dfs(i + 1, str + s[i].toUpperCase());
    }
  }

  dfs(0, '');

  return result;
};

// 使用回溯
var letterCasePermutation = function (s) {
  let result = [];

  function backtrack(s, idx) {
    result.push(s);
    for (let i = idx; i < s.length; i++) {
      // 数字 跳过
      if (/\d/.test(s[i])) continue;
      // 字母, 反转字母大小写
      s = s.slice(0, i) + reverseStr(s[i]) + s.slice(i + 1);

      backtrack(s, i + 1);

      // 回溯, 将字母大小写反转回来
      s = s.slice(0, i) + reverseStr(s[i]) + s.slice(i + 1);
    }
  }

  function reverseStr(s) {
    return /[a-z]/.test(s) ? s.toUpperCase() : s.toLowerCase();
  }

  backtrack(s, 0);
  return result;
};
```
