---
title: Javascript ä¸­çš„æ•°æ®ç±»å‹
date: 2020-05-06 22:07:38
---

> é¢è¯•å®˜ï¼šè¯´è¯´ `JavaScript` ä¸­çš„åŸºæœ¬ç±»å‹æœ‰å“ªäº›ï¼Ÿä»¥åŠå„ä¸ªæ•°æ®ç±»å‹æ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Ÿ

`JavaScript` çš„æ•°æ®ç±»å‹åŒ…æ‹¬`åŸå§‹ç±»å‹`å’Œ`å¼•ç”¨ç±»å‹(å¯¹è±¡ç±»å‹)`ã€‚

æœ€åŸºæœ¬å¸¸ç”¨åˆ°åŸå§‹ç±»å‹åŒ…æ‹¬ä»¥ä¸‹ 6 ä¸ªï¼š

- `String`
- `Number`
- `Boolean`
- `null`
- `undefined`
- `Symbol`

å¼•ç”¨ç±»å‹ç»Ÿç§°ä¸º `Object` ç±»å‹ï¼Œå¦‚æœç»†åˆ†çš„è¯ï¼Œåˆ†ä¸ºä»¥ä¸‹ 5 ä¸ªï¼š

- `Object`
- `Array`
- `Date`
- `RegExp`
- `Function`

## æ•°æ®ç±»å‹çš„å­˜å‚¨å½¢å¼

æ ˆï¼ˆ`Stack`ï¼‰å’Œå †ï¼ˆ`Heap`ï¼‰ï¼Œæ˜¯ä¸¤ç§åŸºæœ¬çš„æ•°æ®ç»“æ„ã€‚

- `Stack` åœ¨å†…å­˜ä¸­è‡ªåŠ¨åˆ†é…å†…å­˜ç©ºé—´çš„ï¼›
- `Heap` åœ¨å†…å­˜ä¸­åŠ¨æ€åˆ†é…å†…å­˜ç©ºé—´çš„ï¼Œä¸ä¸€å®šä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚ä¸€èˆ¬æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å°†å¯¹è±¡ç±»å‹æ‰‹åŠ¨ç½®ä¸º `null` åŸå› ï¼Œå‡å°‘æ— ç”¨å†…å­˜æ¶ˆè€—ã€‚

åŸå§‹ç±»å‹ï¼ˆå­˜åœ¨æ ˆå†…å­˜ä¸­ï¼‰å’Œå¯¹è±¡ç±»å‹ï¼ˆå­˜åœ¨å †å†…å­˜ä¸­ï¼‰åˆ†åˆ«åœ¨å†…å­˜ä¸­çš„å­˜åœ¨å½¢å¼å¦‚ä¸‹å›¾ç¤ºï¼š

![](../../assets/javascript/data-types/1.png)

åŸå§‹ç±»å‹æ˜¯æŒ‰å€¼å½¢å¼å­˜æ”¾åœ¨æ ˆä¸­çš„æ•°æ®æ®µï¼Œå†…å­˜ç©ºé—´å¯ä»¥è‡ªç”±åˆ†é…ï¼ŒåŒæ—¶å¯ä»¥æŒ‰å€¼ç›´æ¥è®¿é—®ã€‚

```js
var a = 10
var b = a
b = 30
console.log(a) // 10å€¼
console.log(b) // 30å€¼
```

è¿‡ç¨‹å›¾ç¤ºï¼š

![](../../assets/javascript/data-types/2.png)

å¼•ç”¨ç±»å‹æ˜¯å­˜æ”¾åœ¨**å †**å†…å­˜ä¸­ï¼Œæ¯ä¸ªå¯¹è±¡åœ¨å †å†…å­˜ä¸­æœ‰ä¸€ä¸ªå¼•ç”¨åœ°å€ï¼Œå°±åƒæ˜¯æ¯ä¸ªæˆ¿é—´éƒ½æœ‰ä¸€ä¸ªæˆ¿é—´å·ä¸€æ ·ã€‚å¼•ç”¨ç±»å‹åœ¨æ ˆä¸­ä¿å­˜çš„å°±æ˜¯è¿™ä¸ªå¯¹è±¡åœ¨å †å†…å­˜çš„å¼•ç”¨åœ°å€ï¼Œæˆ‘ä»¬æ‰€è¯´çš„â€œæˆ¿é—´å·â€ã€‚é€šè¿‡â€œæˆ¿é—´å·â€å¯ä»¥å¿«é€ŸæŸ¥æ‰¾åˆ°ä¿å­˜åœ¨å †å†…å­˜çš„å¯¹è±¡ã€‚

```js
var obj1 = new Object()
var obj2 = obj1
obj2.name = 'å°é¹¿'
console.log(obj1.name) // å°é¹¿
```

è¿‡ç¨‹å›¾ç¤ºï¼š

![](../../assets/javascript/data-types/3.png)

## Null

### typeof null ç­‰äº Object?

> é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆ typeof null ç­‰äº Object?

ä¸åŒçš„å¯¹è±¡åœ¨åº•å±‚åŸç†çš„å­˜å‚¨æ˜¯ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºçš„ï¼Œåœ¨ `javaScript` ä¸­ï¼Œå¦‚æœäºŒè¿›åˆ¶çš„å‰ä¸‰ä½éƒ½ä¸º 0 çš„è¯ï¼Œç³»ç»Ÿä¼šåˆ¤å®šä¸ºæ˜¯ `Object` ç±»å‹ã€‚null çš„å­˜å‚¨äºŒè¿›åˆ¶æ˜¯ `000`ï¼Œä¹Ÿæ˜¯å‰ä¸‰ä½ï¼Œæ‰€ä»¥ç³»ç»Ÿåˆ¤å®š `null` ä¸º `Object` ç±»å‹ã€‚

### Null å’Œ undefined çš„åŒºåˆ«

```js
console.log(null == undefined) // true
console.log(null === undefined) // false
```

**null è¡¨ç¤º"æ²¡æœ‰å¯¹è±¡"ï¼Œå³è¯¥å¤„ä¸åº”è¯¥æœ‰å€¼**ã€‚å…¸å‹ç”¨æ³•æ˜¯ï¼š

```js
1. ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œè¡¨ç¤ºè¯¥å‡½æ•°çš„å‚æ•°ä¸æ˜¯å¯¹è±¡ã€‚
2. ä½œä¸ºå¯¹è±¡åŸå‹é“¾çš„ç»ˆç‚¹ã€‚

Object.getPrototypeOf(Object.prototype) // null
```

**undefined è¡¨ç¤º"ç¼ºå°‘å€¼"ï¼Œå°±æ˜¯æ­¤å¤„åº”è¯¥æœ‰ä¸€ä¸ªå€¼ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å®šä¹‰**ã€‚å…¸å‹ç”¨æ³•æ˜¯ï¼š

```js
1. å˜é‡è¢«å£°æ˜äº†ï¼Œä½†æ²¡æœ‰èµ‹å€¼æ—¶ï¼Œå°±ç­‰äº undefinedã€‚
2. è°ƒç”¨å‡½æ•°æ—¶ï¼Œåº”è¯¥æä¾›çš„å‚æ•°æ²¡æœ‰æä¾›ï¼Œè¯¥å‚æ•°ç­‰äº undefinedã€‚
3. å¯¹è±¡æ²¡æœ‰èµ‹å€¼çš„å±æ€§ï¼Œè¯¥å±æ€§çš„å€¼ä¸º undefinedã€‚
4. å‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œé»˜è®¤è¿”å› undefinedã€‚
```

```js
var i;
i // undefined

function f(x){console.log(x)}
f() // undefined

var  o = new Object();
o.p // undefined

var x = f();
x // undefined
ã€‚
```

[é˜®ä¸€å³° undefined ä¸ null çš„åŒºåˆ«](http://www.ruanyifeng.com/blog/2014/03/undefined-vs-null.html)

## typeof ä¸ instanceof æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

`typeof` æ˜¯ä¸€å…ƒè¿ç®—ç¬¦ï¼ŒåŒæ ·è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ã€‚ä¸€èˆ¬ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºæˆ–è€…æ˜¯ä»€ä¹ˆç±»å‹ã€‚

é™¤äº† `null` ç±»å‹ä»¥åŠ `Object` ç±»å‹ä¸èƒ½å‡†ç¡®åˆ¤æ–­å¤–ï¼Œå…¶ä»–æ•°æ®ç±»å‹éƒ½å¯èƒ½è¿”å›æ­£ç¡®çš„ç±»å‹ã€‚

```js
typeof undefined // 'undefined'
typeof '10'      // 'String'
typeof 10        // 'Number'
typeof false     // 'Boolean'
typeof Symbol()  // 'Symbol'
typeof Function  // â€˜function'
typeof null		 // â€˜Objectâ€™
typeof []        // 'Object'
typeof {}    .   // 'Object'
```

æ—¢ç„¶ `typeof` å¯¹å¯¹è±¡ç±»å‹éƒ½è¿”å› `Object` ç±»å‹æƒ…å†µçš„å±€é™æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `instanceof` æ¥è¿›è¡Œ**åˆ¤æ–­æŸä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯å¦ä¸€ä¸ªå¯¹è±¡çš„å®ä¾‹**ã€‚è¿”å›å€¼çš„æ˜¯ä¸€ä¸ªå¸ƒå°”ç±»å‹ã€‚

```js
var a = []
console.log(a instanceof Array) // true
```

`instanceof` è¿ç®—ç¬¦ç”¨æ¥æµ‹è¯•ä¸€ä¸ªå¯¹è±¡åœ¨å…¶åŸå‹é“¾ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ„é€ å‡½æ•°çš„ `prototype` å±æ€§ï¼Œ

æˆ‘ä»¬å†æµ‹ä¸€ä¸‹ ES6 ä¸­çš„ `class` è¯­æ³•ç³–æ˜¯ä»€ä¹ˆç±»å‹ã€‚

```js
class A {}
console.log(A instanceof Function) // true
```

å‡è®¾ç°åœ¨æœ‰ `a instanceof b` ä¸€æ¡è¯­å¥ï¼Œåˆ™å…¶ `instanceof` å†…éƒ¨å®é™…åšäº†å¦‚ä¸‹åˆ¤æ–­ï¼š

```js
while (a.__proto__ !== null) {
  if (a.__proto__ === b.prototype) {
    return true
  }
  a.__proto__ = a.__proto__.proto__
}
if (a.__proto__ == null) {
  return false
}
```

a ä¼šä¸€ç›´æ²¿ç€éšå¼åŸå‹é“¾ `__proto__` `å‘ä¸ŠæŸ¥æ‰¾ç›´åˆ°a.__proto__.__proto__ ...... === b.prototype`ä¸ºæ­¢ï¼Œå¦‚æœæ‰¾åˆ°åˆ™è¿”å› `true`ï¼Œä¹Ÿå°±æ˜¯ `a` ä¸º `b` çš„ä¸€ä¸ªå®ä¾‹ã€‚å¦åˆ™è¿”å› `false`ï¼Œ`x` ä¸æ˜¯ `b`çš„å®ä¾‹ã€‚

:::warning æ³¨æ„
åŸå‹é“¾ä¸­çš„ prototype éšæ—¶å¯ä»¥è¢«æ”¹åŠ¨çš„ï¼Œæ”¹å˜åçš„å€¼å¯èƒ½ä¸å­˜åœ¨äº object çš„åŸå‹é“¾ä¸Šï¼Œinstanceof è¿”å›çš„å€¼å¯èƒ½å°±è¿”å› falseã€‚
:::

## ç±»å‹è½¬æ¢

`javaScript` æ˜¯ä¸€ç§å¼±ç±»å‹è¯­è¨€ï¼Œå˜é‡ä¸å—ç±»å‹é™åˆ¶ï¼Œæ‰€ä»¥åœ¨ç‰¹å®šæƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦å¯¹ç±»å‹è¿›è¡Œè½¬æ¢ã€‚

ã€Œç±»å‹è½¬æ¢ã€åˆ†ä¸º`æ˜¾å¼ç±»å‹è½¬æ¢`å’Œ`éšå¼ç±»å‹è½¬æ¢`ã€‚æ¯ç§è½¬æ¢åˆåˆ†ä¸º`åŸå§‹ç±»å‹è½¬æ¢`å’Œ`å¯¹è±¡ç±»å‹è½¬æ¢`ã€‚

æ˜¾å¼ç±»å‹è½¬æ¢å°±æ˜¯æˆ‘ä»¬æ‰€è¯´å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚

### è½¬åŒ–ä¸º String

| æ•°æ®ç±»å‹  | String ç±»å‹              |
| --------- | ------------------------ |
| æ•°å­—      | è½¬åŒ–ä¸ºæ•°å­—å¯¹åº”çš„å­—ç¬¦ä¸²   |
| true      | è½¬åŒ–ä¸ºå­—ç¬¦ä¸² "true"      |
| null      | è½¬åŒ–ä¸ºå­—ç¬¦ä¸² "null"      |
| undefined | è½¬åŒ–ä¸ºå­—ç¬¦ä¸² â€œundefinedâ€ |
| Object    | è½¬åŒ–ä¸º "[object Object]" |

```js
String(123) // "123"
String(true) // "true"
String(null) // "null"
String(undefined) // "undefined"
String([1, 2, 3]) // "1,2,3"
String({}) // "[object Object]"
```

### è½¬åŒ–ä¸º Boolean è¿‡æ»¤å‡å€¼

```js
var result = ['', undefined, null, NaN, false, 0].filter(Boolean) // []
```

`Boolean` æ–¹æ³•å¯ä»¥ç”¨æ¥è¿‡æ»¤å‡å€¼ï¼Œå¦‚ä¸Š `''`, `undefined`, `null`, `NaN`, `false`, `0` è½¬åŒ–ä¸º `Boolean` ä¸º `false`

```js
Boolean('')         // false
Boolean(undefined)  // false
Boolean(null)       // false
Boolean(NaN)        // false
Boolean(false)      // false
Boolean(0)          // false
Boolean({})		    // true
Boolean([])		  ã€‚// true
```

### è½¬åŒ–ä¸º Number

| æ•°æ®ç±»å‹  | æ•°å­—ç±»å‹                                                                  |
| --------- | ------------------------------------------------------------------------- |
| å­—ç¬¦ä¸²    | 1. æ•°å­—è½¬åŒ–ä¸ºå¯¹åº”çš„æ•°å­— 2) å…¶ä»–è½¬åŒ–ä¸º NaN                                 |
| å¸ƒå°”ç±»å‹  | 1. true è½¬åŒ–ä¸º 12) false è½¬åŒ–ä¸º 0                                         |
| null      | 0                                                                         |
| undefined | NaN                                                                       |
| æ•°ç»„      | 1. æ•°ç»„ä¸ºç©ºè½¬åŒ–ä¸º 0ï¼›2) æ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ è½¬åŒ–ä¸ºå¯¹åº”å…ƒç´ ï¼›3) å…¶ä»–è½¬åŒ–ä¸º NaN |
| ç©ºå­—ç¬¦ä¸²  | 0                                                                         |

```js
Number(10) // 10
Number('10') // 10
Number(null) // 0
Number('') // 0
Number(true) // 1
Number(false) // 0
Number([]) // 0
Number([1, 2]) // NaN
Number('10a') // NaN
Number(undefined) // NaN
```

å‚è€ƒè‡ª [ğŸ”¥ åŠ¨ç”»ï¼šã€Šå¤§å‰ç«¯åŠæ‰“é¢è¯•å®˜ç³»åˆ—ã€‹ ä¹‹åŸç”Ÿ JavaScript ç²¾åç¯‡](https://juejin.im/post/5e34d19de51d4558864b1d1f)
