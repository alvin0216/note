---
title: 任意 URL 跳转和钓鱼网站
date: 2020-09-06 18:04:06
---

> 网络中的钓鱼指的是钓鱼式攻击，利用 URL 来钓鱼盗取用户账号密码，进行非法操作。

URL 跳转事件是比较常见的，比如，登陆网页以后，从登陆页面跳转到另一个页面，这就叫做 URL 跳转。

举个例子，在项目中我们可能会在 url 中写重定向地址

```js
http://localhost:3000?redirect=https://baidu.com
```

这样我们可以在内部通过 meta 或者 js 去执行跳转到对应的地址，这个操作是有一定风险的，比如我们可以定向到黑客的网站，此时黑客是一个钓鱼网站的话。个人信息及其容易泄露

### 预防手段

我们需要对传入的 URL 做有效性的验证，保证该 URL 来自于正确的地方，限制的方式同防止 csrf 一样可以包括;

1. referer 的限制

如果确定传递 url 参数进入的来源，我们可以通过该方式来实现安全限制，保证该 url 的有效性，避免恶意用户自己生成跳转链接

2. 加入有效性验证 Token

我们保证所有生成的链接都是来自于我们可信域的，通过在生成的链接里加入用户不可控的 Token 对生成的链接进行校验，可以避免用户生成自己的恶意链接从而被利用,但是如果功能本身要求比较开放，可能导致有一定的限制。

。。。
