---
title: 低代码难点
date: 2021-06-29 10:54:23
sidebar: auto
tags:
  - 低代码平台
categories:
  - 开发实录
---

## 物料市场

低代码平台通过对应的 id 获取到渲染的物料配置列表。这里有两层需要注意的点：

- **物料更新**

发布了新的物料之后，想要作用于线上，需要更新生产的 node_modules 包。也就需要同时发布 低代码平台版本 + 作用的生产环境的版本

`新增物料` -> `发布低代码平台版本（拖拽层 + 渲染层）` -> `发布生产环境的渲染器应用的包的版本`

**问题 1: 旧的渲染数据已生成，用的包的版本是 1.0, 新的版本数据 不兼容怎么办：**

原则上只做向下兼容，也就只增不减、如果差异大则考虑拆分

- **有什么物料，怎么被其他人知道**

1. ....

## 拖拽

1. 怎么知道当前拖拽的目标是在上或在下,怎么放拖拽的提示面板

![](https://gitee.com/alvin0216/cdn/raw/master/images/drag.png)

enterTarget：dragenter 的对象

每个 `renderItem` 里面加 `dataSet` ，获取 `enterTarget` 的索引，默认是放在 `enterTarget` 的索引 - 1。

如果 enterTarget 为空，则插入到最后一位。

注意缺省判断就行了

## 跨域问题
