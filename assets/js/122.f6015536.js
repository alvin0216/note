(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{687:function(t,e,n){"use strict";n.r(e);var r=n(6),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[n("img",{attrs:{src:"https://alvin-cdn.oss-cn-shenzhen.aliyuncs.com/images/setState-async.png",alt:""}})]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://juejin.cn/post/6992006476558499853?from=main_page",target:"_blank",rel:"noopener noreferrer"}},[t._v("React 中 setState 是一个宏任务还是微任务？"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://blog.shenfq.com/posts/2020/React%20%E6%9E%B6%E6%9E%84%E7%9A%84%E6%BC%94%E5%8F%98%20-%20%E4%BB%8E%E5%90%8C%E6%AD%A5%E5%88%B0%E5%BC%82%E6%AD%A5.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("React 架构的演变 - 从同步到异步"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("react 多次执行 setState 后，react 会合并进行一次更新，这样就可以提高性能，这就是"),n("strong",[t._v("批处理")]),t._v("的概念。")]),t._v(" "),n("p",[t._v("批处理是如何实现的呢？")]),t._v(" "),n("p",[t._v("在 react 源码中，"),n("code",[t._v("reactFiberWorkLoop")]),t._v(" 文件中，有个 "),n("code",[t._v("isBatchedUpdate")]),t._v(" 变量来标示当前是否需要批处理，")]),t._v(" "),n("ol",[n("li",[t._v("当前执行环境 & 当前模式")])]),t._v(" "),n("p",[t._v("react mode：")]),t._v(" "),n("ul",[n("li",[t._v("Legacy 模式")]),t._v(" "),n("li",[t._v("blocking 模式")]),t._v(" "),n("li",[t._v("concurrent 模式：创建的更新拥有不同的优先级，并且更新的过程是可以打断的")])])])}),[],!1,null,null,null);e.default=a.exports}}]);