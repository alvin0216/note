(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{580:function(e,r,t){"use strict";t.r(r);var n=t(3),_=Object(n.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"相关资料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#相关资料"}},[e._v("#")]),e._v(" 相关资料")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://juejin.cn/post/6844903981223772168",target:"_blank",rel:"noopener noreferrer"}},[e._v("带你手写微前端框架"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://juejin.cn/post/6844904073972432903",target:"_blank",rel:"noopener noreferrer"}},[e._v("微前端在美团外卖的实践"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://juejin.cn/post/6854573221111398408",target:"_blank",rel:"noopener noreferrer"}},[e._v("2020 年你必须要会的微前端 -（实战篇）"),t("OutboundLink")],1)])]),e._v(" "),t("blockquote",[t("p",[e._v("Single-Spa 核心")])]),e._v(" "),t("p",[e._v("single-spa 的原理就是，将子项目中的 "),t("code",[e._v("link/script")]),e._v(" 标签和"),t("code",[e._v('<div id="app"></div>')]),e._v("插入到主项目，而这个操作的核心就是动态加载 "),t("code",[e._v("js")]),e._v(" 和 "),t("code",[e._v("css")]),e._v("。")]),e._v(" "),t("blockquote",[t("p",[e._v("IFrame 优缺点")])]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("页面加载问题")]),e._v(": 影响主页面加载，阻塞 onload 事件，本身加载也很慢，页面缓存过多会导致电脑卡顿")]),e._v(" "),t("li",[t("strong",[e._v("布局问题")]),e._v("：iframe 必须给一个指定的高度，否则会塌陷。解决办法：子系统实时计算高度并通过 postMessage 发送给主页面，主页面动态设置高度，修改子系统或者代理插入脚本。有些情况会出现多个滚动条，用户体验不佳。")]),e._v(" "),t("li",[t("strong",[e._v("弹窗及遮罩层问题")]),e._v("：只能在 iframe 范围内垂直水平居中，没法在整个页面垂直水平居中。")]),e._v(" "),t("li",[t("strong",[e._v("浏览器前进/后退问题")]),e._v("：iframe 和主页面共用一个浏览历史，iframe 会影响页面的前进后退，大部分时候正常，iframe 多次重定向则会导致浏览器的前进后退功能无法正常使用，不是全部页面都会出现，基本可以忽略。但是 iframe 页面刷新会重置（比如说从列表页跳转到详情页，然后刷新，会返回到列表页），因为浏览器的地址栏没有变化。")]),e._v(" "),t("li",[t("strong",[e._v("iframe 的页面跳转到其他页面")]),e._v("出问题，比如两个 iframe 之间相互跳转，直接跳转会只在 iframe 范围内跳转，所以必须通过主页面来进行跳转。不过 iframe 跳转的情况很少")]),e._v(" "),t("li",[e._v("不同源的系统之间的通讯需要通过 postMessage，存在一定的"),t("strong",[e._v("安全性")])])]),e._v(" "),t("p",[e._v("优点")]),e._v(" "),t("ul",[t("li",[e._v("完全隔离了 css 和 js，避免了各个系统之间的样式和 js 污染")]),e._v(" "),t("li",[e._v("可以在子系统完全不修改的情况下嵌入进来")])])])}),[],!1,null,null,null);r.default=_.exports}}]);