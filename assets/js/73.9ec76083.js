(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{639:function(s,t,n){"use strict";n.r(t);var a=n(6),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"常用命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" list --depth "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -g "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看全局的包，以及版本")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" view react "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看包的信息")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置源 请用 nrm")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config get registry\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 假设当前版本号 v1.0.0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version patch  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v1.0.1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version minor  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v1.1.0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version major  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v2.0.0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.2")]),s._v(".3  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# v1.2.3")]),s._v("\n")])])]),n("p",[n("a",{attrs:{href:"https://yarn.bootcss.com/docs/migrating-from-npm/#toc-cli-commands-comparison",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm 迁移到 yarn 的命令"),n("OutboundLink")],1)]),s._v(" "),n("h2",{attrs:{id:"npx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npx"}},[s._v("#")]),s._v(" npx")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目内部安装了测试工具 项目的根目录下执行")]),s._v("\nnode-modules/.bin/mocha --version\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 npx 代替")]),s._v("\nnpx mocha --version\n")])])]),n("p",[s._v("只要 npx 后面的模块无法在本地发现，就会下载同名模块。比如，本地没有安装 http-server 模块，下面的命令会自动下载该模块，在当前目录启动一个 Web 服务。")]),s._v(" "),n("p",[s._v("npx 还可以执行 GitHub 上面的模块源码。")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行 Gist 代码")]),s._v("\n$ npx https://gist.github.com/zkat/4bc19503fe9e9309e2bfaa2c58074d32\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行仓库代码")]),s._v("\n$ npx github:piuccio/cowsay hello\n")])])]),n("p",[s._v("注意，远程代码必须是一个模块，即必须包含 "),n("code",[s._v("package.json")]),s._v(" 和入口脚本。")]),s._v(" "),n("h2",{attrs:{id:"发布一个-npm-包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#发布一个-npm-包"}},[s._v("#")]),s._v(" 发布一个 npm 包")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.npmjs.com/"),n("OutboundLink")],1),s._v(" 注册一个账号，第一次注册要去校验邮箱！")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" login\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入账号名 & 密码 & 邮箱")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("whoami")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看当前登录用户")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" publish "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发布")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" unpublish --force xxx "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消发布")]),s._v("\n")])])]),n("p",[n("strong",[s._v("publishConfig")])]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"publishConfig"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"registry"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://registry.npmjs.org/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"tag"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"beta"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"access"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"public"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("p",[n("code",[s._v("access")]),s._v(" 如果是 "),n("code",[s._v("scoped")]),s._v(" 包，一定需要设置为 "),n("code",[s._v("public")]),s._v("（付费账号除外）")]),s._v(" "),n("h2",{attrs:{id:"devdependencies-vs-dependencies"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#devdependencies-vs-dependencies"}},[s._v("#")]),s._v(" devDependencies vs dependencies")]),s._v(" "),n("p",[s._v("遇到坑点，比如我写了一个脚手架")]),s._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"commander"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.11.0"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dependencies"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cli-table3"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^0.6.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"form-data"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^4.0.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"node-fetch"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.6.1"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("p",[s._v("发布后下载，运行发现 "),n("code",[s._v("Error: Cannot find module 'commander'")]),s._v("，将依赖 "),n("code",[s._v("devDependencies")]),s._v(" 中的 "),n("code",[s._v("comander")]),s._v(" 移动到 "),n("code",[s._v("dependencies")]),s._v(" 中重新发布版本就可以了。")]),s._v(" "),n("p",[s._v("例如：webpack，gulp 等打包工具，这些都是我们开发阶段使用的，代码提交线上时，不需要这些工具，所以我们将它放入 devDependencies 即可，但是像 jquery 这类插件库，是我们生产环境所使用的，所以如要放入 dependencies，如果未将 jquery 安装到 dependencies，那么项目就可能报错，无法运行")])])}),[],!1,null,null,null);t.default=e.exports}}]);