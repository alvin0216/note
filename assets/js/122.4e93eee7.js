(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{919:function(s,t,a){"use strict";a.r(t);var n=a(3),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("Tabs",{attrs:{type:"border-card"}},[a("Tab",{attrs:{label:"多人协作"}},[a("p",[s._v("见 "),a("RouterLink",{attrs:{to:"/blogs/ramble/engineering/git-commit.html"}},[s._v("提交规范")])],1),s._v(" "),a("p",[a("strong",[s._v("撤销与更新")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 储藏与弹出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash -u "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 保存当前状态，包括 untracked 的文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash pop "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 弹出")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 撤销本地修改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("目录/文件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# . 代表所有")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 软回滚一个版本,可以理解为撤销最近一次的 commit")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --soft HEAD~1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 强制更新到远程")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -f origin HEAD:master\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 强制更新远程到本地")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch --all\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard origin/dev\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull\n")])])]),a("p",[a("strong",[s._v("分支和远程")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" origin git"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加远程分支")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新建本地分支后，推向远程")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push --set-upstream dev\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除远程分支 dev")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin -d dev\n")])])]),a("p",[a("strong",[s._v("查看提交记录")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" lg --since"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1 days'")]),s._v(" --author"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'alvin'")]),s._v("\n")])])])]),s._v(" "),a("Tab",{attrs:{label:"全局配置（别名）"}},[a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看你的全局配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global --list\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置用户信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.name alvin\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.email alvin00216@163.com\n")])])]),a("p",[a("strong",[s._v("别名配置")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置 log")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.lg "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --date=relative\"")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.co checkout\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.ci commit\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.st status\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.br branch\n")])])])]),s._v(" "),a("Tab",{attrs:{label:"ssh 配置"}},[a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入ssh目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ～/.ssh\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成密钥 ssh-keygen -t rsa -C email")]),s._v("\nssh-keygen -t rsa -C alvin00216@163.com\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提示输入目录，目录可以不填，有默认路径，直接回车 ==>")]),s._v("\nEnter "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" to save the key "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/root/.ssh/id_rsa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提示输入密码, 密码可以不填, 默认没有密码，直接回车 ==>")]),s._v("\nEnter passphrase "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empty "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" no passphrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\nEnter same passphrase again:\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 成功后就可以看到 SHA256: xxxxx")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看你用 ssh 生成的公钥")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ~/.ssh/id_rsa.pub\n")])])]),a("p",[s._v("复制你刚刚生成的公钥到 "),a("code",[s._v("github")])]),s._v(" "),a("p",[a("code",[s._v("github")]),s._v(" => "),a("code",[s._v("settings")]),s._v(" => "),a("code",[s._v("SSH and GPG keys")]),s._v(" => "),a("code",[s._v("New SSH key")]),s._v(" ， 测试效果：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -T git@github.com\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出：Hi alvin00216! You've successfully authenticated, but GitHub does not provide shell access.")]),s._v("\n")])])]),a("p",[a("strong",[s._v("配置多用户")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再次生成一个 ssh-key")]),s._v("\nssh-keygen -t rsa -C xx@pvmedtech.com\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 流程和 配置 ssh 一样")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Enter file in which to save the key (/Users/guosw/.ssh/id_rsa): pvmed_rsa_gitlab")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里输入私钥名 比如 pvmed_rsa_gitlab 对应的公钥名为 pvmed_rsa_gitlab.pub")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一路回车")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/.ssh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" pvmed_rsa_gitlab.pub\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加公钥到所在 gitlab 地址 和上面的一致")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 ssh-add 命令 添加密钥")]),s._v("\nssh-add ~/.ssh/pvmed_rsa_gitlab\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改 ~/.ssh/config 将你的用户信息写进去")]),s._v("\nHost pvmed "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#给你的host取个名字 方便自己记忆")]),s._v("\n   User guosw "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#你的用户名")]),s._v("\n   Host http://192.168.1.222 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#host主机的url")]),s._v("\n   IdentityFile ~/.ssh/pvmed_rsa_gitlab "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#私钥的访问路径")]),s._v("\n   Port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#host主机的端口")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -T git@192.168.1.222\n")])])])]),s._v(" "),a("Tab",{attrs:{label:"提高 github 访问速度"}},[a("p",[s._v("切换 "),a("code",[s._v("host")]),s._v("：用 "),a("a",{attrs:{href:"http://tool.chinaz.com/dns/?type=1",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://tool.chinaz.com/dns/?type=1"),a("OutboundLink")],1),s._v(" 输入域名测速，拿到 "),a("code",[s._v("ip")]),s._v(" 后修改 "),a("code",[s._v("host")]),s._v(" 映射：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/hosts\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加以下内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# github")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.74")]),s._v(".223.119 github.com\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.250")]),s._v(".162.133 codeload.github.com\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("69.63")]),s._v(".184.142 github.global.ssl.fastly.net\n")])])]),a("p",[s._v("刷新 "),a("code",[s._v("dns")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mac 下")]),s._v("\ndscacheutil -flushcache\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# centos7")]),s._v("\nsystemctl restart network\n")])])]),a("p",[s._v("同理。有人开源了")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.im/post/5ee89e2b6fb9a0479e4d4cd7",target:"_blank",rel:"noopener noreferrer"}},[s._v("让你“爱”上 GitHub，解决访问时图裂、加载慢的问题"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("你可以从这里拿到最新的 "),a("code",[s._v("host")]),s._v(" 地址: "),a("a",{attrs:{href:"https://github.com/521xueweihan/GitHub520",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub520"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("愉快的切换 "),a("code",[s._v("host")]),s._v(": "),a("a",{attrs:{href:"https://github.com/oldj/SwitchHosts",target:"_blank",rel:"noopener noreferrer"}},[s._v("SwitchHosts"),a("OutboundLink")],1)])])])],1)],1)}),[],!1,null,null,null);t.default=e.exports}}]);