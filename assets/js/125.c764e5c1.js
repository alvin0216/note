(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{689:function(e,r,t){"use strict";t.r(r);var o=t(6),c=Object(o.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("blockquote",[t("p",[e._v("调和函数("),t("a",{attrs:{href:"https://github.com/facebook/react/blob/v17.0.2/packages/react-reconciler/src/ReactChildFiber.old.js#L1274-L1410",target:"_blank",rel:"noopener noreferrer"}},[e._v("源码"),t("OutboundLink")],1),e._v(")是在 fiber 树构(对比更新)过程中对旧 fiber 节点与新 reactElement 进行比较, 判定旧 fiber 节点是否可以复用的一个比较函数.")])]),e._v(" "),t("p",[e._v("它的主要作用:")]),e._v(" "),t("ol",[t("li",[e._v("给新增,移动,和删除节点设置 fiber.flags (新增, 移动: "),t("code",[e._v("Placement")]),e._v(", 删除:"),t("code",[e._v("Deletion")]),e._v(")")]),e._v(" "),t("li",[e._v("如果是需要删除的 fiber, "),t("a",{attrs:{href:"https://github.com/facebook/react/blob/v17.0.2/packages/react-reconciler/src/ReactChildFiber.old.js#L275-L294",target:"_blank",rel:"noopener noreferrer"}},[e._v("除了自身打上 Deletion 之外, 还要将其添加到父节点的 effects 链表中"),t("OutboundLink")],1),e._v("(正常副作用队列的处理是在 "),t("code",[e._v("completeWork")]),e._v(" 函数, 但是该节点(被删除)会脱离 "),t("code",[e._v("fiber")]),e._v(" 树, 不会再进入 "),t("code",[e._v("completeWork")]),e._v(" 阶段, 所以在 "),t("code",[e._v("beginWork")]),e._v(" 阶段提前加入副作用队列).")])])])}),[],!1,null,null,null);r.default=c.exports}}]);